<!DOCTYPE html>
<html lang="en" dir="ltr">
	<head>
		<meta charset="utf8" />
		<title>Chickychiccckckck</title>
		<link href="https://fonts.googleapis.com/css?family=Sarabun" rel="stylesheet" />
		<link rel="stylesheet" type="text/css" href="css/styleregis.css" />
		<script type="text/javascript" src="js/bootstrap.min.js"></script>
		<!-- <script type="text/javascript" src="js/fireregis.js"></script> -->
		<!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous"> -->
		<meta name="viewport" content="width=device-width, inititial-scale=1.0" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
	</head>
	<body>
		<div class="login-page">
			<!-- <div class="egg" align ="center">
      <img src="images/logo-1.gif" class="img-fluid" alt="">
      </div> -->

			<div class="form">
				<!-- <form class="register-form">
        <input type="text" placeholder="name"/>
        <input type="password" placeholder="password"/>

        <button>create</button>
        <p class="message">Already registered? <a href="#">Sign In</a></p>
      </form> -->

				<form class="login-form">
					<img src="images/regis.gif" class="img-fluid" alt="" />
					<div class="pic1"><img src="images/regis_01.gif" class="img-fluid" alt="" /></div>
					<input type="email" id="email" placeholder="Email" />
					<input type="password" id="password" placeholder="Password" />
					<input type="text" id="name" placeholder="Name" />
					<input type="text" id="lastname" placeholder="Lastname" />
					<input type="number" id="tel" placeholder="Tel." />
					<label class="container"
						>Male <input type="radio" id="sex" name="radio" value="male" /> <span class="checkmark"></span>
					</label>
					<label class="container"
						>Female <input type="radio" id="sex" name="radio" value="female" />
						<span class="checkmark"></span>
					</label>

					<!-- <input type="radio" name="male" value="male"> Male
        <input type="radio" name="female" value="female" > Female -->
					<!-- <input type="submit"  name="summit" onclick="saveData" value="Register"> -->

					<!-- <p class="message">Register<a href="#"></a></p> -->
				</form>
				<button onclick="saveData()">Register</button>
			</div>
		</div>
		<!--Include firebase.js  -->
		<script src="https://www.gstatic.com/firebasejs/5.7.1/firebase.js"></script>
		<script>
			function myFunction() {
				alert('Register Success')
			}
		</script>
		<script>
			function test() {
				console.log('testtttt')
			}
		</script>
		<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

		<script>
			// Initialize Firebase
			var config = {
				apiKey: 'AIzaSyDTqv7HHD2NJnK2msDyX8Z9Aa8pT2m7bCg',
				authDomain: 'chickypy.firebaseapp.com',
				databaseURL: 'https://chickypy.firebaseio.com',
				projectId: 'chickypy',
				storageBucket: 'chickypy.appspot.com',
				messagingSenderId: '829495790812',
			}
			firebase.initializeApp(config)

			function saveData() {
				console.log('gggggggggggggggggggggg')
				var email = document.getElementById('email')
				var password = document.getElementById('password')
				var name = document.getElementById('name')
				var lastname = document.getElementById('lastname')
				var tel = document.getElementById('tel')
				var sex = document.querySelector('input[id="sex"]:checked').value
				// console.log('email ' + email.value)
				// console.log('password ' + password.value)
				// console.log('name ' + name.value)
				// console.log('lastname ' + lastname.value)
				// console.log('tel ' + tel.value)
				// console.log('sex ' + sex)
				insertData(email.value, password.value, name.value, lastname.value, tel.value, sex) //sex.value)
			}

			function insertData(email, password, name, lastname, tel, sex) {
				// console.log('email ' + email)
				// console.log('password ' + password)
				// console.log('name ' + name)
				// console.log('lastname ' + lastname)
				// console.log('tel ' + tel)
				// console.log('sex ' + sex)
				var firebaseRef = firebase.database().ref('users/')
				firebaseRef
					.push({
						email: email,
						password: password,
						name: name,
						lastname: lastname,
						tel: tel,
						sex: sex,
					})
					.then(function(response) {
						console.log('Insert Success', response.path.pieces_.length)
						// signUp()
						swal('Success', 'สมัครสำเร็จ', 'success').then(value => {
							console.log(value)
							if (value) {
								window.location.href = 'index1.html'
								// window.location.href = '../public/index1.html'
							}
						})
					})
					.catch(function(error) {
						console.log('Insert Fail = > ', error)
						swal('Fail', 'สมัครล้มเหลว', 'error')
					})
			}
			// var uid = firebase.auth().currentUser.uid;
			// firebase.database().ref(users).child(uid).set({
			//   email: user.email,
			//   userId: uid
			// })
		</script>

		<!-- <script>
			function signUp() {
				console.log('signup')
				var email = document.getElementById('email').value
				var password = document.getElementById('password').value
				firebase
					.auth()
					.createUserWithEmailAndPassword(email, password)
					.then(function(response) {
						swal('Success', 'สมัครสำเร็จ', 'success').then(value => {
							console.log(value)
							if (value) {
								window.location.href = 'index1.html'
								// window.location.href = '../public/index1.html'
							}
						})
					})
					.catch(function(error) {
						swal('Fail', 'สมัครล้มเหลว', 'error')
					})
				console.log('signup success')
			}
		</script> -->
		<!-- <script>
  function signUp(){
    var username = document.getElementById('username').value;
    var password = document.getElementById('password').value;
    firebase.auth().createUserWithUsernameAndPassword(username,password).catch(function (error) {
      var errorCode = eror.code;
      var errorMessage = error.message;
      if (errorCode === 'auth/weak-password'){
          alert('The password is too weak');
      } else {
        alert (errorMessage);
      }
      console.log(error);
    });

  }

  </script> -->
		<!--Include firebase.js  -->
		<script src="https://www.gstatic.com/firebasejs/live/3.0/firebase.js"></script>

		<script>
			//     // Visit https://console.firebase.google.com/project/<your project id>/overview and click on "Add Firebase to your web app"
			//     // Initialize Firebase
			//
			//       // Initialize Firebase
			//     var config = {
			//     apiKey: "AIzaSyDTqv7HHD2NJnK2msDyX8Z9Aa8pT2m7bCg",
			//     authDomain: "chickypy.firebaseapp.com",
			//     databaseURL: "https://chickypy.firebaseio.com",
			//     projectId: "chickypy",
			//     storageBucket: "chickypy.appspot.com",
			//     messagingSenderId: "829495790812"
			//
			//   document.getElementById("sign-in").onclick = function(e) {
			//     e.preventDefault();
			//     handleSignUp();
			//
			//   }
			//
			//   function handleSignUp() {
			//     var errors = document.getElementById('errors');
			//     var email = document.getElementById('email').value;
			//     var password = document.getElementById('password').value;
			//     var warnings = "";
			//
			//     if (email.length < 4) {
			//       warnings += 'You need a valid email chief <br/>';
			//     }
			//     if (password.length < 4) {
			//       warnings += 'You need a valid password boss <br/>';
			//     }
			//
			//     if (warnings != "") {
			//       console.log(warnings);
			//       errors.style.display = 'block';
			//       errors.innerHTML = warnings;
			//     } else {
			//       errors.style.display = "none";
			//       firebase.auth().createUserWithEmailAndPassword(email, password).catch(function(error) {
			//         errors.style.display = (errors.style.display === "none" || errors.style.display === "") ? "block" : "none";
			//         console.log(error);
			//         errors.innerHTML = error + "<br/>";
			//       });
			//     }
			//   }
			//
			//   // Once a user is created with the email/login
			//   // Notify when he/she is logged in
			//   firebase.auth().onAuthStateChanged(user => {
			//     if (user) {
			//
			//       var fireBase_name = user.displayName;
			//       var fireBase_email = user.email;
			//
			//       var fireBase_emailVerified = user.emailVerified;
			//       var fireBase_uid = user.uid;
			//       var success = document.getElementById('success');
			//       success.style.display = (success.style.display === "none" || success.style.display === "") ? "block" : "none";
			//       success.innerHTML = "User Logged in with Credentials: <br />" +
			//         "<b>Name:</b> " + fireBase_name + "<br />" +
			//         "<b>Email: </b>" + fireBase_email + "<br />" +
			//         "<b>emailVerified: </b>" + fireBase_emailVerified + "<br />" +
			//         "<b>uid: </b>" + fireBase_uid + "<br />";
			//         window.location.href = "main.html";
			//     }
			//
			//   });
			//
			//
			//   firebase.auth().signOut().then(function() {
			//     // Sign-out successful.
			//   }, function(error) {
			//     // An error happened.
			//   });
		</script>

		<script
			src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
			integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
			integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
			crossorigin="anonymous"
		></script>
		<script
			src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
			integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
			crossorigin="anonymous"
		></script>

		<script src="https://www.gstatic.com/firebasejs/5.7.1/firebase.js"></script>
		<script>
			// Initialize Firebase
			var config = {
				apiKey: 'AIzaSyDTqv7HHD2NJnK2msDyX8Z9Aa8pT2m7bCg',
				authDomain: 'chickypy.firebaseapp.com',
				databaseURL: 'https://chickypy.firebaseio.com',
				projectId: 'chickypy',
				storageBucket: 'chickypy.appspot.com',
				messagingSenderId: '829495790812',
			}
			firebase.initializeApp(config)
		</script>
	</body>
</html>
